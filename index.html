<!DOCTYPE html>
<html lang="no">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="screen-orientation" content="portrait">
    <title>SuperMobil v6 - Pro</title>
    <style>
        :root { --ios-blue: #007AFF; --ios-red: #FF3B30; --ios-green: #34C759; }
        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        /* TVUNGET PORTRETT-VISNING */
        body { 
            margin: 0; background: #1a1a1a; font-family: -apple-system, sans-serif; 
            height: 100vh; display: flex; justify-content: center; align-items: center; 
            overflow: hidden; touch-action: manipulation;
        }

        .phone-frame {
            width: 100%; height: 100%; max-width: 414px; max-height: 850px;
            background: #000; border-radius: 50px; border: 12px solid #333;
            position: relative; display: flex; flex-direction: column;
        }

        .screen {
            flex-grow: 1; position: relative; overflow: hidden;
            background: url('https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=500') center/cover;
            border-radius: 35px; margin: 5px;
        }

        /* APP STIL */
        .app-window {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: white; transform: translateY(100%); transition: 0.4s ease-out;
            z-index: 500; display: flex; flex-direction: column;
        }
        .app-window.active { transform: translateY(0); }
        .app-header { padding: 45px 20px 15px; background: #f9f9f9; border-bottom: 1px solid #ddd; font-weight: bold; }

        /* HJEMSKJERM */
        .home-screen { display: grid; grid-template-columns: repeat(4, 1fr); gap: 15px; padding: 30px 20px; }
        .app-icon { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .icon-box { width: 60px; height: 60px; border-radius: 15px; display: flex; align-items: center; justify-content: center; font-size: 30px; margin-bottom: 5px; box-shadow: 0 5px 10px rgba(0,0,0,0.2); }

        /* CHAT BOKSER */
        .msg { padding: 10px 15px; border-radius: 18px; max-width: 75%; margin-bottom: 5px; font-size: 14px; }
        .msg.sent { align-self: flex-end; background: var(--ios-blue); color: white; }
        .msg.received { align-self: flex-start; background: #e5e5ea; color: black; }

        /* MUSIKK */
        .music-ui { flex-grow: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        #import-btn { background: #eee; padding: 10px; border-radius: 10px; cursor: pointer; margin-top: 20px; font-size: 12px; }

        .home-btn { height: 60px; display: flex; justify-content: center; align-items: center; cursor: pointer; }
        .home-circle { width: 45px; height: 45px; border: 2px solid #444; border-radius: 50%; }
    </style>
</head>
<body>

<div class="phone-frame">
    <div class="screen" id="main-screen">
        <div style="height:30px; padding:10px 25px; color:white; display:flex; justify-content:space-between; font-size:12px;">
            <span id="clock">12:00</span><span>游닜 游댊</span>
        </div>

        <div class="home-screen">
            <div class="app-icon" onclick="openApp('msg-app')"><div class="icon-box" style="background:#34C759;">游눫</div><span style="color:white;font-size:10px;">Chat</span></div>
            <div class="app-icon" onclick="openApp('music-app')"><div class="icon-box" style="background:#FF2D55;">游꿧</div><span style="color:white;font-size:10px;">Musikk</span></div>
            <div class="app-icon" onclick="openApp('browser-app')"><div class="icon-box" style="background:#007AFF;">游깷</div><span style="color:white;font-size:10px;">Safari</span></div>
        </div>

        <div id="msg-app" class="app-window">
            <div class="app-header">Chat med AI-Venn</div>
            <div id="chat-box" style="flex-grow:1; padding:15px; overflow-y:auto; display:flex; flex-direction:column;">
                <div class="msg received">Hei! Hva skjer? 游땕</div>
            </div>
            <div style="padding:15px; border-top:1px solid #ddd; display:flex; gap:10px;">
                <input type="text" id="msg-in" placeholder="Melding..." style="flex-grow:1; border-radius:20px; border:1px solid #ccc; padding:10px;">
                <button onclick="sendMsg()" style="color:var(--ios-blue); border:none; background:none; font-weight:bold;">Send</button>
            </div>
        </div>

        <div id="music-app" class="app-window">
            <div class="app-header">Musikk</div>
            <div class="music-ui">
                <div style="width:200px; height:200px; background:#f0f0f0; border-radius:20px; display:flex; align-items:center; justify-content:center; font-size:50px; box-shadow: 0 10px 20px rgba(0,0,0,0.1);">游</div>
                <h3 id="track-name" style="margin-top:20px;">Ingen sang valgt</h3>
                <audio id="player" controls style="width:80%; margin-top:20px;"></audio>
                
                <label id="import-btn">
                    游닌 Importer MP3 fra fil
                    <input type="file" id="file-input" accept="audio/mp3" style="display:none;" onchange="loadMP3(event)">
                </label>
            </div>
        </div>

        <div id="browser-app" class="app-window">
            <div class="app-header">Safari</div>
            <input type="text" id="url" placeholder="S칮k p친 nettet..." style="margin:10px; padding:10px; border-radius:10px; border:1px solid #ddd;">
            <iframe id="web-view" src="about:blank" style="flex-grow:1; border:none;"></iframe>
        </div>

    </div>
    <div class="home-btn" onclick="goHome()"><div class="home-circle"></div></div>
</div>

<script>
    // --- KLOKKE ---
    function updateTime() {
        const now = new Date();
        document.getElementById('clock').innerText = now.getHours() + ":" + now.getMinutes().toString().padStart(2, '0');
    }
    setInterval(updateTime, 1000); updateTime();

    // --- NAVIGASJON ---
    function openApp(id) { document.getElementById(id).classList.add('active'); }
    function goHome() { document.querySelectorAll('.app-window').forEach(a => a.classList.remove('active')); }

    // --- CHAT LOGIKK ---
    function sendMsg() {
        let input = document.getElementById('msg-in');
        let box = document.getElementById('chat-box');
        if(!input.value) return;

        // Din melding
        box.innerHTML += `<div class="msg sent">${input.value}</div>`;
        let userText = input.value.toLowerCase();
        input.value = "";

        // Automatisk svar (Bot)
        setTimeout(() => {
            let reply = "Det h칮res kult ut! 游";
            if(userText.includes("hei")) reply = "Heisann! Hvordan g친r det?";
            if(userText.includes("snake")) reply = "Elsker Snake! Har du f친tt highscore?";
            box.innerHTML += `<div class="msg received">${reply}</div>`;
            box.scrollTop = box.scrollHeight;
        }, 1000);
        
        box.scrollTop = box.scrollHeight;
    }

    // --- MUSIKK IMPORTERING ---
    function loadMP3(event) {
        const file = event.target.files[0];
        if (file) {
            const url = URL.createObjectURL(file);
            const player = document.getElementById('player');
            document.getElementById('track-name').innerText = file.name;
            player.src = url;
            player.play();
        }
    }

    // --- BROWSER ---
    document.getElementById('url').addEventListener('keypress', (e) => {
        if(e.key === 'Enter') {
            let val = document.getElementById('url').value;
            let link = val.startsWith('http') ? val : 'https://www.bing.com/search?q=' + val;
            document.getElementById('web-view').src = link;
        }
    });
</script>

</body>
</html>
